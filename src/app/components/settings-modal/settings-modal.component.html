<div
	class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300"
>
	<div
		class="bg-darkbg border border-neutral-700/50 rounded-2xl shadow-xl w-full max-w-md overflow-hidden transform transition-transform duration-300"
	>
		<div
			class="px-6 py-4 border-b border-neutral-700/50 flex justify-between items-center"
		>
			<h2
				class="text-xl font-semibold text-lightprimary flex items-center gap-2"
			>
				<img src="assets/icons/settings.svg" alt="settings" class="w-5 h-5" />
				Settings
			</h2>
			<button
				(click)="close.emit()"
				class="p-1 hover:bg-neutral-700/30 rounded-lg"
			>
				<img src="assets/icons/close.svg" alt="close icon" class="w-5 h-5" />
			</button>
		</div>
		<div class="p-6 space-y-4">
			<div class="space-y-4">
				<div class="space-y-2">
					<label class="block text-sm font-medium text-lightprimary mb-2"
						>Model</label
					>
					<select
						[(ngModel)]="model"
						class="appearance-none w-full bg-darkprimary/50 rounded-xl px-4 py-2.5 outline-none focus:outline-none border-2 border-transparent focus:border-indigo-500 text-lightprimary text-sm transition-all duration-150"
					>
						<option value="" class="bg-darkbg">Select a model</option>
						<option
							*ngFor="let m of availableModels"
							[value]="m.id"
							class="bg-darkbg text-lightprimary py-2"
						>
							{{ m.name }}
						</option>
					</select>
				</div>
				<div class="space-y-2">
					<label class="block text-sm font-medium text-lightprimary mb-2"
						>API Key</label
					>
					<input
						type="password"
						[(ngModel)]="apiKey"
						placeholder="Enter API key"
						class="w-full bg-darkprimary/50 rounded-xl px-4 py-2.5 outline-none focus:outline-none border-2 border-transparent focus:border-indigo-500 placeholder-neutral-400 text-lightprimary text-sm transition-all duration-150"
					/>
					<div class="mt-2 text-sm text-neutral-400">
						You need an OpenRouter API key to enhance and convert prompts.
						<a
							href="https://openrouter.ai/settings/keys"
							target="_blank"
							rel="noopener noreferrer"
							class="text-indigo-400 hover:text-indigo-300 transition-colors duration-150 underline"
						>
							Create your API Key here
						</a>
					</div>
				</div>
			</div>
		</div>
		<div
			class="px-6 py-4 border-t border-neutral-700/50 flex justify-end gap-3"
		>
			<button
				(click)="close.emit()"
				class="px-4 py-2 rounded-xl hover:bg-neutral-700/50 active:bg-neutral-600/50 transition-all duration-150 text-sm font-medium border border-neutral-700/50 text-lightprimary"
			>
				Cancel
			</button>
			<button
				(click)="onSave()"
				class="bg-indigo-500 text-lightprimary px-4 py-2 rounded-xl hover:bg-indigo-600 active:bg-indigo-700 transition-all duration-150 text-sm font-medium"
			>
				Save Settings
			</button>
		</div>
	</div>
</div>
